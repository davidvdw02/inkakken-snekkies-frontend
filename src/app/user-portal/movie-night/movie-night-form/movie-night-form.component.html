<form #productForm="ngForm" class="w-full px-2 py-1 border rounded">
  <div class="mb-2">
    <label for="date" class="block mb-1">Date: </label>
    <input
      type="date"
      id="date"
      name="date"
      [(ngModel)]="movieNight.date"
      class="w-full px-2 py-1 border rounded"
    />
  </div>

  <div class="mb-2">
    <label for="location" class="block mb-1">Location: </label>
    <input
      type="string"
      id="location"
      name="location"
      [(ngModel)]="movieNight.location"
      class="w-full px-2 py-1 border rounded"
    />
  </div>

  <div *ngFor="let attendee of movieNight.attendees; let i = index" class="mb-2">
    <label for="{{attendee.id}}" class="block mb-1">Attendee: </label>
    <select
      id="{{attendee.id}}"
      name="{{attendee.name}}"
      [(ngModel)]="movieNight.attendees[i]"
      (change)="onAttendeeChange(movieNight.attendees[i])"
      class="w-full px-2 py-1 border rounded">
      <option [ngValue]="attendee">{{attendee.name}}</option>
      <ng-container *ngFor="let existingAttendee of existingAttendees">
        <option *ngIf="existingAttendee.name !== movieNight.attendees[i].name" [ngValue]="existingAttendee" >{{existingAttendee.name}}</option>
      </ng-container>

    </select>

  </div>
  <div class="flex justify-between items-center">
    <button (click)="addAttendee()" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Add Attendee</button>
    <button (click)="onSubmit()" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Next</button>
  </div>
</form>
